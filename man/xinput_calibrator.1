.\" 
.TH "xinput_calibrator" "1" "" "Tias Guns" ""
.SH "NAME"
xinput_calibrator \- A generic touchscreen calibration program for X.Org

.SH "SYNOPSIS"
.B xinput_calibrator [OPTIONS]
.SH "DESCRIPTION"
xinput_calibrator is a program for calibrating your touchscreen, when using the X Window System.
.PP 
It currently features:
.br 
\- a minimalistic and intuitive GUI (X11 or gtkmm)
.br 
\- works for any standard Xorg touchscreen driver (uses XInput to get axis valuators)
.br 
\- can output the calibration in xorg.conf, FDI and udev format
.br 
\- can dynamically recalibrate the evdev driver
.br 
\- and more
.PP 
see http://www.freedesktop.org/wiki/Software/xinput_calibrator

.SH "OPTIONS"
.TP 8
.B \-h, \-\-help
Print a help message listing the version and available options.
.PP 
.TP 8
.B \-v, \-\-verbose
Print debug messages during the process.
.PP 
.TP 8
.B \-\-list
List the calibratable input devices.
.PP 
.B \-\-device \fIdevice_name_or_id\fP
Select a specific device to calibrate;
use \-\-list to list the calibratable input devices.
.PP 
.TP 8
.B \-\-precalib \fImin_x\fP \fImax_x\fP \fImin_y\fP \fImax_y\fP
Manually provide the current calibration setting.
.br 
This is usefull if the calibration values are stored in your xorg.conf, but the driver does not export them through XInput (eg. the calibrator can not know these values)
.PP 
.TP 8
.B \-\-fake
Emulate a fake driver (for testing purposes)
.br 
Usefull to test the calibrator without applying the values, and possibly even without having a touchscreen.
.SH "USAGE"
Run xinput_calibrator in a terminal, as it prints out the calibration values and instructions on standard output.
.PP 
The calibrator merely computes the new calibration. In case you use the evdev driver, it will also apply the new calibration for this session. To make the calibration permanent across X restarts, you need to \fBsave the calibration\fR somewhere.
.PP 
The calibrator outputs the following 4 alternatives, with the correct values filled in:
.TP 4
.B xorg.conf (the traditional way)
edit /etc/X11/xorg.conf and add in the 'Section "InputDevice"' of your device:
.br 
If using the EVDEV driver:
.br 
	Option	"Calibration"	"\fImin_x\fP \fImax_x\fP \fImin_y\fP \fImax_y\fP"
.br 
	Option	"SwapAxes"	"\fIswap_xy\fP"
.br 
Else (evtouch or other driver):
.br 
	Option	"MinX"		"\fImin_x\fP"
.br 
	Option	"MaxX"		"\fImax_x\fP"
.br 
	Option	"MinY"		"\fImin_y\fP"
.br 
	Option	"MaxY"		"\fImax_y\fP"
.br 
	Option	"SwapXY"		"\fIswap_xy\fP"

.TP 4
.B udev rule (the new way)
create the file '/etc/udev/rules.d/99_touchscreen.rules' with:
.br 
	ACTION!="add|change", GOTO="xorg_touchscreen_end"
.br 
	KERNEL!="event*", GOTO="xorg_touchscreen_end"
.br 
	ATTRS{product}!="\fIName_Of_TouchScreen\fR", GOTO="xorg_touchscreen_end"
.br 
	ENV{x11_options.minx}="\fImin_x\fP"
.br 
	ENV{x11_options.maxx}="\fImax_x\fP"
.br 
	ENV{x11_options.miny}="\fImin_y\fP"
.br 
	ENV{x11_options.maxy}="\fImax_y\fP"
.br 
	ENV{x11_options.swapxy}="\fIswap_xy\fP"
.br 
	LABEL="xorg_touchscreen_end"
.PP 
\fIName_Of_TouchScreen\fR is the sysfs name of the device, use 'udevadm' to find it.

.TP 4
.B HAL policy (the old way)
create the file '/etc/hal/fdi/policy/touchscreen.fdi' with:
.br 
	<match key="info.product" contains="\fIName_Of_TouchScreen\fR">
.br 
	  <merge key="input.x11_options.minx" type="string">\fImin_x\fP</merge>
.br 
	  <merge key="input.x11_options.maxx" type="string">\fImax_x\fP</merge>
.br 
	  <merge key="input.x11_options.miny" type="string">\fImin_y\fP</merge>
.br 
	  <merge key="input.x11_options.maxy" type="string">\fImax_y\fP</merge>
.br 
	  <merge key="input.x11_options.swapxy" type="string">\fIswap_xy\fP</merge>
.br 
	</match>
.PP 
\fIName_Of_TouchScreen\fR is the sysfs name of the device, use 'lshal' to find it.

.TP 4
.B xinput commands, EVDEV only (the manual way)
If you use the recommended 'evdev' xserver driver, you can use the xinput tool:
.br 
	xinput set\-int\-prop "\fIName_Of_TouchScreen\fR" "Evdev Axis Calibration" 32 \fImin_x\fP \fImax_x\fP \fImin_y\fP \fImax_y\fP
.br 
	xinput set\-int\-prop "\fIName_Of_TouchScreen\fR" "Evdev Axes Swap" 8 \fIswap_xy\fR
.PP 
\fIName_Of_TouchScreen\fR is the xserver name or id of the device, use 'xinput list' to find it.
.SH "SEE ALSO"
xinput(1)
.SH "AUTHORS"
.nf 
Tias Guns <tias@ulyssis.org>
.fi 
